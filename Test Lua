--[[
✅ TriggerBot Simulator - Test Anti-Cheat
by ArchScrim
Adapté pour environnement local de test (dummies uniquement)
--]]

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "TriggerBotMenu"

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 200, 0, 140)
Frame.Position = UDim2.new(0, 20, 0, 200)
Frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Frame.BorderSizePixel = 0
Frame.Visible = true

local UICorner = Instance.new("UICorner", Frame)
UICorner.CornerRadius = UDim.new(0, 8)

-- Title
local Title = Instance.new("TextLabel", Frame)
Title.Text = "TriggerBot - ArchScrim"
Title.Size = UDim2.new(1, 0, 0, 25)
Title.TextColor3 = Color3.new(1, 1, 1)
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.GothamBold
Title.TextSize = 14

-- Toggle label
local Status = Instance.new("TextLabel", Frame)
Status.Position = UDim2.new(0, 0, 0, 30)
Status.Size = UDim2.new(1, 0, 0, 25)
Status.Text = "TriggerBot: OFF"
Status.TextColor3 = Color3.new(1, 1, 1)
Status.BackgroundTransparency = 1
Status.Font = Enum.Font.Gotham
Status.TextSize = 14

-- Delay dropdown
local DelayLabel = Instance.new("TextLabel", Frame)
DelayLabel.Position = UDim2.new(0, 0, 0, 55)
DelayLabel.Size = UDim2.new(1, 0, 0, 25)
DelayLabel.Text = "Delay: 30ms"
DelayLabel.TextColor3 = Color3.new(1, 1, 1)
DelayLabel.BackgroundTransparency = 1
DelayLabel.Font = Enum.Font.Gotham
DelayLabel.TextSize = 14

-- Notification
local Notify = Instance.new("TextLabel", ScreenGui)
Notify.Text = "✅ Script lancé — by ArchScrim"
Notify.Size = UDim2.new(0, 300, 0, 30)
Notify.Position = UDim2.new(1, -320, 1, -50)
Notify.BackgroundColor3 = Color3.fromRGB(40, 180, 80)
Notify.TextColor3 = Color3.new(1, 1, 1)
Notify.Font = Enum.Font.GothamBold
Notify.TextSize = 14
Notify.AnchorPoint = Vector2.new(0, 1)

local NotifyCorner = Instance.new("UICorner", Notify)
NotifyCorner.CornerRadius = UDim.new(0, 8)

task.delay(3, function()
    Notify:Destroy()
end)

-- Logic
local enabled = false
local delays = {30, 50, 80}
local currentDelayIndex = 1

UserInputService.InputBegan:Connect(function(input, gpe)
    if gpe then return end

    if input.KeyCode == Enum.KeyCode.RightControl then
        Frame.Visible = not Frame.Visible
    elseif input.KeyCode == Enum.KeyCode.C then
        enabled = not enabled
        Status.Text = "TriggerBot: " .. (enabled and "ON" or "OFF")
    elseif input.KeyCode == Enum.KeyCode.T then
        currentDelayIndex = currentDelayIndex % #delays + 1
        DelayLabel.Text = "Delay: " .. delays[currentDelayIndex] .. "ms"
    end
end)

RunService.RenderStepped:Connect(function()
    if not enabled then return end
    local target = Mouse.Target
    if target and target:FindFirstAncestorOfClass("Model") then
        local model = target:FindFirstAncestorOfClass("Model")
        local humanoid = model:FindFirstChildOfClass("Humanoid")
        if humanoid and humanoid.Health > 10 then
            -- Optional prediction (slight)
            task.wait(delays[currentDelayIndex] / 1000)
            mouse1click()
        end
    end
end)
